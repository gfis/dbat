<?xml version="1.0" encoding="UTF-8"?>
<!--
    Interactive view definition for test form crud01.xml, with INT key
    @(#) $Id$
    2012-05-21: with help URLs on field names
    2012-05-02, Dr. Georg Fischer
-->
<!--test/nulls.xml äöü
  @(#) $Id$
  Generated by dbat/etc/xslt/dbiv_spec.xsl V1.4 on 2014-11-07 13:11:06
  DO NOT EDIT HERE, but in test/nulls.iv.xml instead!
-->
<dbat xmlns="http://www.teherba.org/2007/dbat" xmlns:ht="http://www.w3.org/1999/xhtml" xmlns:iv="http://www.teherba.org/2011/dbiv" xmlns:db="http://www.teherba.org/2007/dbat" encoding="UTF-8" conn="cosm" lang="de" title="test/nulls">
  <!--
        param "view" takes the following values:
        sear - search form only
        del  - confirmation of deletion
        del2 - SQL DELETE + search form
        ins  - insert form
        ins2 - SQL INSERT + search form
        upd  - update form
        upd2 - SQL UPDATE + search form
    --><ht:h3><ht:a href="servlet?spec=test.index">Test</ht:a></ht:h3><ht:p>
        You may search for DB2SYS update / delete / insert their data.
    </ht:p>
  
  <ht:h2/>
<choose>
  <when name="view" match="sear">
  </when><!--== d e l ==============-->
  <when name="view" match="del">
    <select limit="512">
      <col name="db2sys" label="DB2SYS">
        db2sys
      </col>
      <col name="weekday" label="Weekday">
        weekday
      </col>
      <from>COSMOL.DBATTEST r</from>
      <where>db2sys = '<parm name="db2sys"/>'
      </where>
    </select>
    <ht:form method="get">
      <ht:input name="view" type="hidden" value="del2"/>
      <ht:input name="opcode" type="hidden" value="del"/>
      <ht:input name="search_db2sys" type="hidden" init=""/>
      <ht:input name="db2sys" type="hidden" init=""/>
      <ht:input name="weekday" type="hidden" init=""/>
      <ht:input type="submit" value="L&amp;#xf6;schen"/> <ht:a href="servlet?spec=test/nulls">Zur&amp;#xfc;ck</ht:a> zum Suchformular
    </ht:form>
  </when><!--== d e l 2 ==============-->
  <when name="view" match="del2">
    <delete><from>COSMOL.DBATTEST </from>
      <where>db2sys = '<parm name="db2sys"/>'
      </where>
    </delete>
    <ht:h4><parm name="update_count"/> Zeile(n) zu Schl&amp;#xfc;ssel
       <ht:em> <parm name="db2sys"/></ht:em> gel&amp;#xf6;scht
    </ht:h4>
  </when><!--== d a t ==============-->
  <when name="view" match="dat">
    <select into="parm">
      <col name="weekday" label="Weekday">
        weekday
      </col>
      <from>COSMOL.DBATTEST r</from>
      <where>db2sys = '<parm name="db2sys"/>'
      </where>
    </select>
    <ht:form name="form1" method="get">
      <ht:table>
      <ht:tr><ht:td valign="top" title="db2sys">DB2SYS:</ht:td>
        <ht:td><parm name="db2sys"/>
        </ht:td></ht:tr>
      <ht:tr><ht:td valign="top" title="weekday">Weekday:</ht:td>
        <ht:td><parm name="weekday"/>
        </ht:td></ht:tr>
      </ht:table>
      <ht:a href="servlet?spec=test/nulls">Zur&amp;#xfc;ck</ht:a> zum Suchformular
    </ht:form>
  </when><!--== i n s ==============-->
  <when name="view" match="ins">
    <ht:h4>New DB2</ht:h4>
    <ht:form name="form1" method="get">
      <ht:input name="view" type="hidden" value="ins2"/>
      <ht:input name="opcode" type="hidden" value="ins"/>
      <ht:input name="search_db2sys" type="hidden" init=""/>
      <ht:table>
      <ht:tr><ht:td valign="top" title="db2sys">DB2SYS:</ht:td>
        <ht:td><ht:input name="db2sys" size="8" init="" title=".*" onkeyup="this.form.db2sys.className = (this.form.db2sys.value.match('^.*$')) ? 'valid': 'invalid'"/>
        </ht:td></ht:tr>
      <ht:tr><ht:td valign="top" title="weekday">Weekday:</ht:td>
        <ht:td><ht:input name="weekday" size="3" init="" title=".*" onkeyup="this.form.weekday.className = (this.form.weekday.value.match('^.*$')) ? 'valid': 'invalid'"/>
        </ht:td></ht:tr>
      </ht:table>
      <ht:input type="submit" value="Speichern"/> <ht:a href="servlet?spec=test/nulls">Zur&amp;#xfc;ck</ht:a> zum Suchformular
    </ht:form>
  </when><!--== i n s 2 ==============-->
  <when name="view" match="ins2">
    <insert><into>COSMOL.DBATTEST</into>
      <values>
      <col name="db2sys">'<parm name="db2sys"/>'</col>
      <col name="weekday">'<parm name="weekday"/>'</col>
      </values>
    </insert>
  </when><!--== u p d ==============-->
  <when name="view" match="upd">
    <select into="parm">
      <col name="weekday" label="Weekday">
        weekday
      </col>
      <from>COSMOL.DBATTEST r</from>
      <where>db2sys = '<parm name="db2sys"/>'
      </where>
    </select>
    <ht:h4>DB2System &amp;#xe4;ndern</ht:h4>
    <ht:form name="form1" method="get">
      <ht:input name="view" type="hidden" value="upd2"/>
      <ht:input name="opcode" type="hidden" value="upd"/>
      <ht:input name="search_db2sys" type="hidden" init=""/>
      <ht:input name="db2sys" type="hidden" init=""/>
      <ht:table>
      <ht:tr><ht:td valign="top" title="db2sys">DB2SYS:</ht:td>
        <ht:td><parm name="db2sys"/>
        </ht:td></ht:tr>
      <ht:tr><ht:td valign="top" title="weekday">Weekday:</ht:td>
        <ht:td><ht:input name="weekday" size="3" init="" title=".*" onkeyup="this.form.weekday.className = (this.form.weekday.value.match('^.*$')) ? 'valid': 'invalid'"/>
        </ht:td></ht:tr>
      </ht:table>
      <ht:input type="submit" value="&amp;#xc4;ndern"/> <ht:a href="servlet?spec=test/nulls">Zur&amp;#xfc;ck</ht:a> zum Suchformular
    </ht:form>
  </when><!--== u p d 2 ==============-->
  <when name="view" match="upd2">
    <update>COSMOL.DBATTEST
      <col name="weekday">'<parm name="weekday"/>'</col>
      <where>db2sys = '<parm name="db2sys"/>'
      </where>
    </update>
    <ht:h4><parm name="update_count"/> Zeile(n) zu Schl&amp;#xfc;ssel
       <ht:em> <parm name="db2sys"/></ht:em> ge&amp;#xe4;ndert
    </ht:h4>
  </when>
</choose>
<!--== s e a r  etc. ==============================-->
<choose>
  <when name="view" match="(sear|ins2|upd2|del2|)">
    <ht:form method="get">
      <ht:input name="view" type="hidden" value="sear"/>
      <ht:table>
      <ht:tr><ht:td valign="top" title="db2sys">DB2SYS:</ht:td>
        <ht:td><ht:input name="search_db2sys" size="8" init="" title=".*" onkeyup="this.form.db2sys.className = (this.form.db2sys.value.match('^.*$')) ? 'valid': 'invalid'"/>
        </ht:td></ht:tr>
      </ht:table>
      <ht:input name="weekday" type="hidden" init=""/>
      <ht:input type="submit" value="Suchen"/>
    </ht:form><ht:br/>
    <ht:form method="get">
      <ht:input name="view" type="hidden" value="ins"/>
      <ht:input name="search_db2sys" type="hidden" init=""/>
      <ht:input name="weekday" type="hidden" init=""/>
      <ht:input type="submit" value="New DB2"/>
    </ht:form>
    <select limit="2048">
      <col pseudo="image" label="Upd." align="center" remark="update" link="test/nulls&amp;search_db2sys=&amp;db2sys=&amp;view=">
        '<parm name="search_db2sys"/>' || '=' 
         || db2sys || '=' || 'upd' 
      </col>
      <col pseudo="image" label="Del." align="center" remark="delete" link="test/nulls&amp;search_db2sys=&amp;db2sys=&amp;view=">
        '<parm name="search_db2sys"/>' || '=' 
         || db2sys || '=' || 'del' 
      </col>
      <col pseudo="image" label="Show" align="center" remark="details" link="test/nulls&amp;search_db2sys=&amp;db2sys=&amp;view=">
        '<parm name="search_db2sys"/>' || '=' 
         || db2sys || '=' || 'dat' 
      </col>
      <col name="db2sys" label="DB2SYS">
        db2sys
      </col>
      <col name="weekday" label="Weekday">
        weekday
      </col>
      <from>COSMOL.DBATTEST r</from>
      <where>db2sys like '<parm name="search_db2sys"/>%'
      </where>
      <order by="1"/>
      <counter desc="DB2System,e"/>
    </select>
  </when>
  <when name="view" match="(sear|)">
    
  </when>
</choose>

</dbat>
